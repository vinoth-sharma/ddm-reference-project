<div class="tool-body">
  <div *ngIf="reports" class="main-tool-body">
    <div class="wrapper" style="height:100%;padding: 0 1vw 0 1vw;">
      <div class="heading">
        <div class="col-xs-3 pl-0 title-position">
          <h3 class="mt-0"><b>Reports</b></h3>
        </div>
        <div class="col-xs-6 search-global">
          <input (input)="filterData()" placeholder="Insert Keywords/Request Number here " class="form-control m-0"
            [(ngModel)]="filters.global" name="global">
        </div>
        <div class="col-xs-3">
          <div class="icons">
            <div class="press">
              <a (click)="xlsxJson()" style="cursor:pointer">
                <i id="ic" class="material-icons">get_app</i>
              </a>
              <button data-toggle="modal" data-backdrop="static" data-target="#helpModal"
                style="background-color:white; border:none;margin-left: 8px;">
                <a data-toggle="tooltip" title="HELP" style="margin-top:5px">
                  <i id="ic" class="material-icons">help_outline</i>
                </a>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="tableFixHead">
        <table class="table table-bordered table-hover" *ngIf="reports">
          <thead class="thead">
            <tr>
              <th (click)="sort('favorites')">
                <div style="width: 70px!important;">
                  <div class="alignLeft">
                    <div>Favorites</div>
                    <div *ngIf="!reports['favorites']">&#8593;</div>
                    <div *ngIf="reports['favorites']">&#8595;</div>
                  </div>
                </div>
              </th>
              <th>
                <div>
                  <div class="alignLeft" (click)="sort('ddm_rmp_post_report_id')">
                    <div>Request No.</div>
                    <div *ngIf="!reports['ddm_rmp_post_report_id']">&#8593;</div>
                    <div *ngIf="reports['ddm_rmp_post_report_id']">&#8595;</div>
                  </div>
                  <div>
                    <input (input)="filterData()" placeholder="Search" class="form-control"
                      [(ngModel)]="filters.ddm_rmp_post_report_id" name="filters.ddm_rmp_post_report_id">
                  </div>
                </div>
              </th>
              <th>
                <div>
                  <div class="alignLeft" (click)="sort('ddm_rmp_status_date')">
                    <div>Date</div>
                    <div *ngIf="!reports['ddm_rmp_status_date']">&#8593;</div>
                    <div *ngIf="reports['ddm_rmp_status_date']">&#8595;</div>
                  </div>
                  <input (input)="filterData()" placeholder="Search" class="form-control"
                    [(ngModel)]="filters.ddm_rmp_status_date" name="filters.ddm_rmp_status_date">
                </div>
              </th>
              <th>
                <div>
                  <div class="alignLeft" (click)="sort('title')">
                    <div>Title</div>
                    <div *ngIf="!reports['title']">&#8593;</div>
                    <div *ngIf="reports['title']">&#8595;</div>
                  </div>
                  <div>
                    <input (input)="filterData()" placeholder="Search" class="form-control" [(ngModel)]="filters.title"
                      name="filters.title">
                  </div>
                </div>
              </th>
              <th>
                <div>
                  <div class="alignLeft" (click)="sort('report_name')">
                    <div>DDM Name</div>
                    <div *ngIf="!reports['report_name']">&#8593;</div>
                    <div *ngIf="reports['report_name']">&#8595;</div>
                  </div>
                  <div>
                    <input (input)="filterData()" placeholder="Search" class="form-control"
                      [(ngModel)]="filters.report_name" name="filters.report_name">
                  </div>
                </div>
              </th>
              <th>
                <div>
                  <div class="alignLeft" (click)="sort('frequency')">
                    <div>Frequency</div>
                    <div *ngIf="!reports['frequency']">&#8593;</div>
                    <div *ngIf="reports['frequency']">&#8595;</div>
                  </div>
                  <div>
                    <input (input)="filterData()" placeholder="Search" class="form-control"
                      [(ngModel)]="filters.frequency" name="filters.frequency">
                  </div>
                </div>
              </th>
              <th *ngFor="let weekDay of weekDays" (click)="sort(weekDay + 'Frequency')">
                <div style="width: 20px">
                  <div class="alignLeft">
                    {{weekDay}}
                    <span *ngIf="!reports[weekDay + 'Frequency']">&#8593;</span>
                    <span *ngIf="reports[weekDay + 'Frequency']">&#8595;</span>
                  </div>
                </div>
              </th>
              <th>
                <div>
                  <div class="alignLeft" (click)="sort('frequency_data_filtered')">
                    <div>Other</div>
                    <div *ngIf="!reports['frequency_data_filtered']">&#8593;</div>
                    <div *ngIf="reports['frequency_data_filtered']">&#8595;</div>
                  </div>
                  <div>
                    <input (input)="filterData()" placeholder="Search" class="form-control"
                      [(ngModel)]="filters.frequency_data_filtered" name="filters.frequency_data_filtered">
                  </div>
                </div>
              </th>
              <th style="text-align:center">
                <div>Links To Result</div>
              </th>
              <th>
                <div style="width: 150px !important;">Query Criteria</div>
              </th>
            </tr>
          </thead>
          <tbody *ngIf="reports">
            <tr
              *ngFor="let element of reports | filterTable: searchObj | orderBy: param:orderType | slice : paginatorLowerValue : paginatorHigherValue ; let i = index">
              <td class="fav" scope="col">
                <div style="width: 70px!important;">
                  <label for="{{element.ddm_rmp_post_report_id}}" class="custom-checkbox">
                    <input type="checkbox" [(ngModel)]="element.favorites" id="{{element.ddm_rmp_post_report_id}}"
                      (click)="checked(element.ddm_rmp_post_report_id,$event)" />
                    <i class="material-icons empty">star_border</i>
                    <i class="material-icons star">star</i>
                  </label>
                </div>
              </td>
              <td>
                <div>{{element.ddm_rmp_post_report_id}}</div>
              </td>
              <td>
                <div>{{element.ddm_rmp_status_date}}</div>
              </td>
              <td>
                <div>{{element.title}}</div>
              </td>
              <td class="ddm-report-name">
                <div class="report-name-edit" style="justify-content: flex-end !important;" *ngIf="!element.clicked">
                  <p *ngIf="element.report_name" style="position: relative;top:5px;flex:auto">{{element.report_name}}
                  </p>
                  <button style="color:#fff;width:20px;height:20px;" mat-mini-fab [cssBtn]="'mid'"
                    *ngIf="user_role == 'Admin'" data-toggle="tooltip" title="EDIT" (click)="toggleShowInput(element)">
                    <i id="ic" class="material-icons" style="font-size: 100%;position:relative;top:-11px">mode_edit</i>
                  </button>
                </div>
                <div class="report-name-edit" *ngIf="element.clicked ">
                  <input style="max-width:110px" maxlength="50" placeholder="Name max 50 characters"
                    [(ngModel)]="element.report_name" [value]="element.report_name?element.report_name:''">
                  <div>

                    <button data-toggle="tooltip" title="Save" mat-mini-fab [cssBtn]="'ok'"
                      (click)="changeReportName($event , element)"
                      style="color:#fff;width:20px;height:20px;margin-left: 3px;">
                      <i id="ic" style="font-size: 100%;position:relative;top:-11px" class="material-icons">save</i>
                    </button>
                    <button data-toggle="tooltip" title="Cancel" mat-mini-fab [cssBtn]="'cancel'"
                      (click)="toggleShowInput(element)" style="color:#fff;width:20px;height:20px;margin-left: 3px">
                      <i id="ic" style="font-size: 100%;position:relative;top:-11px" class="material-icons">cancel</i>
                    </button>
                  </div>
                </div>
              </td>
              <td class="change-freq"
                (click)="changeFreq(element.ddm_rmp_post_report_id,element.title,element.ddm_rmp_status_date,element.frequency)">
                <div>{{element.frequency}}</div>
              </td>
              <td *ngFor="let weekDay of weekDays">
                <div style="width: 20px">
                  {{element[weekDay + 'Frequency']}}
                </div>
              </td>
              <td>
                <div>
                  {{element?.description?.join()}}
                </div>
              </td>
              <td>
                <div style="flex-direction: column;height: 100%;">
                  <button [cssBtn]="'mid'" mat-raised-button class="table-buttons" [title]="element.link_to_results"
                    (click)="openNewWindow(element.link_to_results)" *ngIf="element.link_to_results != ''"
                    style="margin-bottom: 7px;width:80px">
                    Go to Url
                  </button>
                  <button [cssBtn]="'ok'" style="width:80px" mat-raised-button class="table-buttons" data-toggle="modal"
                    data-backdrop="static" data-target="#addUrl" (click)="addLinkUrl(element,'create')"
                    *ngIf="element.link_to_results == ''&& user_role =='Admin'">
                    <span>Add Url
                    </span>
                  </button>
                  <button *ngIf="element.link_to_results != '' && user_role =='Admin'" [cssBtn]="'mid'"
                    mat-raised-button class="table-buttons" style="width:80px" data-toggle="modal"
                    data-backdrop="static" data-target="#addUrl" (click)="addLinkUrl(element,'edit')">
                    <span>Edit Url
                    </span>
                  </button>
                </div>
              </td>
              <td>
                <div>
                  <button [cssBtn]="'mid'" mat-raised-button class="table-buttons"
                    (click)="query_criteria_report(element.ddm_rmp_post_report_id)" data-toggle="modal"
                    data-backdrop="static" data-target="#queryCriteriaReport">
                    QueryCriteria
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div>
        <mat-paginator [length]="reports.length" [pageSize]="paginatorpageSize" [pageSizeOptions]="paginatorOptions"
          (page)="onPaginationChange($event)">
        </mat-paginator>
      </div>
    </div>
  </div>
  <div class="main-tool-body" *ngIf="!reports">
  </div>

  <div id="configReport" class="modal fade" role="dialog">
    <div class="modal-dialog">
    </div>
  </div>

  <div class="modal fade " style="overflow-y: hidden;" id="helpModal" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header" style="justify-content: flex-start;">
          <h5 class="modal-title help-title">Help</h5>
        </div>
        <div class="modal-body display-notes-scroll-modal">
          <div class="row">
            <div class="col-9">
              <button class="save-text-ddm" [cssBtn]="'ok'" mat-raised-button (click)="content_edits()"
                *ngIf="editModes" style="margin-right:3%">Save</button>
              <button class="save-text-ddm" [cssBtn]="'cancel'" mat-raised-button (click)="edit_True()"
                *ngIf="editModes">Cancel</button>
            </div>
            <div class="col-3" class="center-content"
              style="justify-content: flex-end !important;width: 100%;padding-right: 1.5vw;">
              <button *ngIf="user_role == 'Admin'" id="edit_button" class="editButton" (click)='editEnable()'
                style="background-color:white;border: none;">
                <a data-toggle="tooltip" title="EDIT">
                  <i id="ic" class="material-icons">mode_edit</i>
                </a>
              </button>
            </div>
          </div>
          <div class="quillEditor">
            <quill-editor class="quill" [(ngModel)]='namings' [modules]='config' [readOnly]='readOnlyContentHelper'
              (onContentChanged)='textChanged($event)'></quill-editor>
          </div>
        </div>
        <div class="modal-footer modal-footer-pad">
          <button type="button" id="modal_close_button" (click)="edit_True()" [cssBtn]="'cancel'" mat-raised-button
            data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div id="change-Frequency" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header" style="justify-content: flex-start;">
          <h3 class="modal-title">Change Frequency</h3>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)=clearFreq()>
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" style="overflow-y: hidden;max-height: 510px;">
          <div class="row">
            <div class="col-sm-3">
              <p>
                <b>Request No. : </b>
              </p>
              <p>
                <b>Title : </b>
              </p>
              <p>
                <b>Date : </b>
              </p>
            </div>
            <div class="col-sm-8">
              <p>
                <b>{{changeFreqId}}</b>
              </p>
              <p>
                <b>{{changeFreqTitle}}</b>
              </p>
              <p>
                <b>{{changeFreqDate}}</b>
              </p>
            </div>
          </div>
          <!--------------------------- Select Report Frequency------------------->
          <div class="col-sm-12">
            <div class="card">
              <div class="card-header">
                Report Frequency
              </div>
              <div class="card-body">
                <span>
                  <i>
                    <strong>
                      <u>Select a Report Frequency</u>
                    </strong>
                  </i>
                </span>
                <div>
                  <div class="col-xs-7">
                    <select class="form-control pt-0 pb-0" [(ngModel)]="selectedNewFrequency" id="reportFormat"
                      (change)="setSelectedFrequency(selectedNewFrequency)">
                      <option *ngFor="let choice of frequencySelections" [value]="choice">{{ choice }}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="card" [hidden]="isRecurringFrequencyHidden">
              <div class="card-header">
                Select Frequency for Ongoing Routine Reports
              </div>
              <div class="card-body-second top-padding">
                <span>
                  <i>
                    <strong>
                      <u>
                        Frequency for Vehicle Events Status Requests
                      </u>
                    </strong>
                  </i>
                </span>

                <div class="row" *ngFor="let element of obj_keys;let i = index">
                  <div class="time-check col-sm-8 " [id]="'section'+i">
                    <div data-toggle="collapse" [attr.data-target]="'#'+'drop'+i" class="timing day" type="radio"
                      name="dates" [id]="'check'+i" (change)="toggle_freq_selections(i)"
                      style="cursor:pointer; margin-top: 2%" #frequency_selections>&nbsp;&nbsp;{{element}}</div>
                  </div>
                  <div class="time-options col-sm-4">
                    <button class="down-arrow" data-toggle="collapse" [attr.data-target]="'#'+'drop'+i"
                      aria-expanded="false" [attr.aria-controls]="'drop'+i">
                      <svg class="sv" style="width:24px;height:24px">
                        <path fill="#000000" d="M7,10L12,15L17,10H7Z" />
                      </svg>
                    </button>
                  </div>
                  <div class="collapse in" [id]="'drop'+i">
                    <div *ngFor="let element of freq_val; let j =  index">
                      <div *ngIf="i==j">
                        <div *ngFor="let subelement of element; let z=index">
                          <div *ngIf="subelement.select_frequency_description == false">
                            &nbsp;&nbsp;
                            <input id=check{{subelement.ddm_rmp_lookup_select_frequency_id}} class="sub" type="checkbox"
                              (click)="frequencySelected(subelement,$event)"
                              value={{subelement.ddm_rmp_lookup_select_frequency_id}}
                              [id]="'expand'+i">&nbsp;&nbsp;{{subelement.select_frequency_values}}
                          </div>
                          <div *ngIf="subelement.select_frequency_description == true">
                            &nbsp;&nbsp;
                            <input id=check{{subelement.ddm_rmp_lookup_select_frequency_id}} class="sub" type="checkbox"
                              (click)="frequencySelectedDropdown(subelement,$event)"
                              value={{subelement.ddm_rmp_lookup_select_frequency_id}}
                              [id]="'expand'+i">&nbsp;&nbsp;{{subelement.select_frequency_values}}
                            <br> &nbsp;&nbsp; &nbsp;&nbsp;
                            <input id=drop{{subelement.ddm_rmp_lookup_select_frequency_id}} class="sub-freq"
                              (blur)=getSpecifyContent(subelement.ddm_rmp_lookup_select_frequency_id,$event) type="text"
                              value="" disabled>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <br>
                <span>
                  <i>
                    <strong>
                      <u>
                        Frequency for Dealer Allocation Requests
                      </u>
                    </strong>
                  </i>
                </span>
                <div class="row" *ngFor="let element of obj_keys_da;let i = index">
                  <div class="time-check col-sm-8 " [id]="'section'+i">
                    <div data-toggle="collapse" [attr.data-target]="'#'+'drops'+i" class="timing day" type="radio"
                      name="dates" [id]="'check'+i" (change)="toggle_freq_selections(i)"
                      style="cursor:pointer; margin-top: 2%" #frequency_selections>&nbsp;&nbsp;{{element}}</div>
                  </div>
                  <div class="time-options col-sm-4">
                    <button class="down-arrow" data-toggle="collapse" [attr.data-target]="'#'+'drops'+i"
                      aria-expanded="false" [attr.aria-controls]="'drops'+i">
                      <svg class="sv" style="width:24px;height:24px">
                        <path fill="#000000" d="M7,10L12,15L17,10H7Z" />
                      </svg>
                    </button>
                  </div>
                  <div class="collapse in" [id]="'drops'+i">
                    <div *ngFor="let element of freq_val_da; let j =  index">
                      <div *ngIf="i==j">
                        <div *ngFor="let subelement of element; let z=index">
                          <div *ngIf="subelement.select_frequency_description == false">
                            &nbsp;&nbsp;
                            <input id=check{{subelement.ddm_rmp_lookup_select_frequency_id}} class="sub" type="checkbox"
                              (click)="frequencySelected(subelement,$event)"
                              value={{subelement.ddm_rmp_lookup_select_frequency_id}}
                              [id]="'expand'+i">&nbsp;&nbsp;{{subelement.select_frequency_values}}
                          </div>
                          <div *ngIf="subelement.select_frequency_description == true">
                            &nbsp;&nbsp;
                            <input id=check{{subelement.ddm_rmp_lookup_select_frequency_id}} class="sub" type="checkbox"
                              (click)="frequencySelectedDropdown(subelement,$event)"
                              value={{subelement.ddm_rmp_lookup_select_frequency_id}}
                              [id]="'expand'+i">&nbsp;&nbsp;{{subelement.select_frequency_values}}
                            <br> &nbsp;&nbsp; &nbsp;&nbsp;
                            <input id=drop{{subelement.ddm_rmp_lookup_select_frequency_id}}
                              (blur)=getSpecifyContent(subelement.ddm_rmp_lookup_select_frequency_id,$event) type="text"
                              value="" disabled>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <br>
              </div>
            </div>
            <br>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" [cssBtn]="'ok'" mat-raised-button (click)="updateFreq(changeFreqId)"
            [disabled]=changeInFreq>Save
            changes
          </button>
          <button type="button" [cssBtn]="'cancel'" mat-raised-button data-dismiss="modal"
            (click)=clearFreq()>Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <div id="queryCriteriaReport" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header" style="justify-content: flex-start;">
          <div class="row modal-title" style='width:100%;'>

            <div class="col-sm-10 modal-heading">
              <b style="font-size: 110%;">Distribution DataMart</b><br>
              <b style="font-size: 110%;">Report Request Confirmation</b>
              <div *ngIf="summary?.report_type == 'ots'" class="col-sm-12 modal-sub-heading" style="padding: 0%;">
                Vehicle Event Status</div>
              <div *ngIf="summary?.report_type == 'da'" class="col-sm-12 modal-sub-heading" style="padding: 0%;">Dealer
                Allocation
              </div>
            </div>

            <div class="col-sm-2" style="color: white">
              <i id="ic" class="material-icons" style="margin-top: 10px;" (click)='captureScreen()'>
                get_app
              </i>
              <button type="button" class="close" data-dismiss="modal">x</button>
            </div>
          </div>
        </div>
        <div class="modal-body display-summary-scroll">
          <div class="container-fluid">
            <div class="Request-details">
              <span>
                <b>Request Date:</b>
                &nbsp;&nbsp;&nbsp;&nbsp;
                <span
                  *ngIf='summary && summary?.ddm_rmp_status_date'>{{summary?.ddm_rmp_status_date | date : 'dd-MMM-yyyy'}}</span>
              </span>
              <br>
              <span>
                <b>Request Number:</b> &nbsp;&nbsp;&nbsp;&nbsp;
                <span *ngIf='summary && summary.ddm_rmp_post_report_id'>{{summary?.ddm_rmp_post_report_id}}</span>
              </span>
              <br>
              <div *ngFor="let element of summary?.requestor">
                <b>Requestor</b>&nbsp;&nbsp;&nbsp;&nbsp;{{ element?.requestor }}</div>
              <span>
                <b>Report Title:</b> &nbsp;&nbsp;&nbsp;&nbsp;{{summary?.title}}</span>
              <br>
              <br>
            </div>
            <div class="Request-summary">
              <div class="div-wrap">
                <b style="font-size:150%">Market Selections</b>
                <br>
                <br>
                <b>Market(s) Selected:</b> &nbsp;&nbsp;
                <span *ngFor="let element of summary?.market_data">{{element?.market}}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>Division(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ division_dropdown }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>Region(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ region_description }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>Zone(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ zone_description }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>Area(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ area_description }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>LMA(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ lma_description }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>GMMA(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ gmma_description }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>BAC(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ bac_description }}&nbsp;&nbsp;</span>
                <br>
              </div>
              <div class="div-wrap">
                <b>FAN(s) Selected:</b> &nbsp;&nbsp;
                <span>{{ fan_desc }}&nbsp;&nbsp;</span>
                <br>
                <br>
              </div>
              <b style="font-size:120%">Frequency of Reports</b>
              <div class="div-wrap">
                <span>{{ report_frequency }}&nbsp;&nbsp;</span>
              </div>
              <br>
              <b style="font-size:120%">Special Identifiers</b>
              <div class="div-wrap">
                <p>{{ special_identifier }}</p>
              </div>
              <h5>
                <b>Text Notification, when Requests are fulfilled?</b>
              </h5>
              <div class="div-wrap">
                <p *ngIf='text_notification == ""'>No</p>
                <p *ngIf='text_notification != ""'>Yes</p>
              </div>
              <div *ngIf="summary?.report_type == 'ots'">
                <b style="font-size:150%">Vehicle Event Status Data</b>
                <br>
                <br>
                <div class="div-wrap">
                  <b style="font-size:120%">Order Criteria</b>
                  <br>
                  <b>Allocation Group(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ allocation_group }}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Model Year(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ model_year }}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Vehicle line Brand(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ vehicle_line_brand }}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Merchandizing Model(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ merchandising_model }}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Order Event(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ order_event }}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Order Type(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ order_type }}&nbsp;&nbsp;</span>
                  <br>
                  <br>
                  <br>
                </div>
                <div class="div-wrap">
                  <b style="font-size:120%">Order Metrics</b>
                  <br>
                  <br>
                  <b>Check-Boxes Selected(s):</b> &nbsp;&nbsp;
                  <span>{{ checkbox_data}} &nbsp;&nbsp;</span>
                  <br>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Consensus Time and Date:</b> &nbsp;&nbsp;
                  <span *ngFor="let element of summary?.ost_data.data_date_range">
                    <b>Start:</b>&nbsp;{{element?.start_date| date: 'dd-MMM-yyyy'}}
                    <b>End:</b>&nbsp;{{element?.end_date| date: 'dd-MMM-yyyy' }}
                  </span>
                </div>
                <div style="width:100%;float:left;padding-top: 20px">
                  <b>Additional Requirements:</b>
                  <br>
                  <span>{{summary?.additional_req}}</span>
                </div>
              </div>
              <!--                                Order To Sale Start                                    -->
              <!--                      Dealer allocation Part Start                          -->
              <div *ngIf="summary?.report_type == 'da'">
                <h5>
                  <b>Dealer Allocation Selections</b>
                </h5>
                <br>
                <div class="div-wrap">
                  <b>Allocation Group(s) Selected:</b>&nbsp;&nbsp;
                  <span>{{ allocation_group }}&nbsp;&nbsp;</span>
                </div>
                <div class="div-wrap">
                  <b>Model Year(s) Selected:</b> &nbsp;&nbsp;
                  <span>{{ model_year }}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Consensus Time and Date:</b> &nbsp;&nbsp;
                  <span *ngFor="let element of summary?.da_data.concensus_time_date">
                    <b>Start:</b>&nbsp;{{element?.ddm_rmp_start_year}}&nbsp;{{element?.ddm_rmp_start_month}}&nbsp;{{element?.ddm_rmp_start_cycle}}&nbsp;
                    <b>End:</b>&nbsp;{{element?.ddm_rmp_end_year}}&nbsp;{{element?.ddm_rmp_end_month}}&nbsp;{{element?.ddm_rmp_end_cycle}}&nbsp;&nbsp;
                  </span>
                </div>
                <div class="div-wrap">
                  <b>Consensus Data:</b> &nbsp;&nbsp;
                  <span
                    *ngFor="let element of summary?.da_data.concensus_data">{{element?.cd_values}}&nbsp;&nbsp;</span>
                  <br>
                </div>
                <div class="div-wrap">
                  <b>Additional Requirements:</b>
                  <br>
                  <span>{{summary?.additional_req}}</span>
                </div>
              </div>
              <!--                                    Dealer allocation Part End                      -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- add url modal -->
  <div class="modal fade" id="addUrl" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false"
    data-backdrop="static">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <div class="row" style="width: 100%;">

            <div class="col-sm-12" style="margin:0;">
              <h2 class="modal-title" style="margin:0;padding-top: 8px;">
                <b> {{addUrlTitle}}</b>
              </h2>
            </div>
          </div>
        </div>
        <div class="modal-body">
          <input id="add-url-input" (keyup)="validateLinkToUrl($event.target.value)" type="text"
            placeholder="https://example.com" class="form-control" />
          <span *ngIf="linkToUrlFlag" style="color:red;">This field cannot be Empty</span>
        </div>
        <div class="modal-footer">
          <button type="button" [cssBtn]="'ok'" mat-raised-button [disabled]="linkToUrlFlag"
            (click)="saveLinkURL()">Save Changes
          </button>
          <button type="button" [cssBtn]="'cancel'" mat-raised-button id="close_url_modal" data-dismiss="modal"
            (click)="closeTBD_Assigned()">Close</button>
        </div>
      </div>
    </div>
  </div>


  <!--========================================DOWNLOAD PDF===================================================================-->
  <pre class="container-fluid" style="height: auto;display: none" id="print">
    <pre>
      <h1>Distribution DataMart (DDM)       </h1>
      <h1>Report Request Confirmation</h1>
    </pre>
  <pre>
      <h3>Vehicle Event Status</h3>
    </pre>
  <br>
  <pre style="width: 100%;float: left;margin-bottom: 10px;">
      <pre class="div-wrap">
          <span> <b>Request Date:</b>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <span *ngIf='summary && summary.ddm_rmp_status_date'>{{summary?.ddm_rmp_status_date | date : 'dd-MMM-yyyy'}}</span></span>
      </pre>
  <pre class="div-wrap">
          <span> <b>Request Number:</b> &nbsp;&nbsp;&nbsp;&nbsp;
            <span *ngIf='summary && summary.ddm_rmp_post_report_id'> {{summary?.ddm_rmp_post_report_id}}</span></span>
      </pre>
  <pre *ngFor="let element of summary?.requestor" class="div-wrap">
          <b>Requestor</b>&nbsp;&nbsp;&nbsp;&nbsp;<span *ngIf='element && element.requestor'>{{ element?.requestor }}</span>
      </pre>
  <pre class="div-wrap">
          <span> <b>Report Title:</b> &nbsp;&nbsp;&nbsp;&nbsp;<span *ngIf='summary && summary.title'>{{summary?.title}}</span></span> <br>
      </pre>
  </pre>
  <br>
  <pre class="Request-summary">
  <b style="font-size:150%">Market Selections</b>
  <pre class="div-wrap">
    <b>Market(s) Selected:</b> &nbsp;&nbsp;<span
      *ngFor="let element of summary?.market_data">{{element?.market}}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Division(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='division_dropdown'>{{ division_dropdown }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Region(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='region_description'>{{ region_description }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Zone(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='zone_description'>{{ zone_description }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Area(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='area_description'>{{ area_description }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>LMA(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='lma_description'>{{ lma_description }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>GMMA(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='gmma_description'>{{ gmma_description }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>BAC(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='bac_description'>{{ bac_description }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>FAN(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='fan_desc'>{{ fan_desc }}&nbsp;&nbsp;</span>
    <br>
  </pre>
  <b style="font-size:120%">Frequency of Reports</b>
  <pre class="div-wrap">
    <span *ngIf='report_frequency'>{{ report_frequency }}&nbsp;&nbsp;</span> <br>
  </pre>
  <b style="font-size:120%">Special Identifiers</b>
  <pre class="div-wrap">
    <p *ngIf='special_identifier'>{{ special_identifier }}</p>
  </pre>
  <h5>
    <b style="font-size:150%">Text Notification, when Requests are fulfilled?</b>
  </h5>
  <pre class="div-wrap">
    <p *ngIf='text_notification == ""'>No</p>
    <p *ngIf='text_notification != ""'>Yes</p>
  </pre>
  <!--                                Order To Sale Start                                    -->

  <pre class="div-wrap" *ngIf="summary?.report_type == 'ots'">
    <b style="font-size:150%">Vehicle Event Status Data</b><br>
  <pre class="div-wrap">
    <b style="font-size:120%">Order Criteria</b><br>
    <b>Allocation Group(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='allocation_group'>{{ allocation_group }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Model Year(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='model_year'>{{ model_year }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Vehicle line Brand(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='vehicle_line_brand'>{{ vehicle_line_brand }}&nbsp;&nbsp;</span>
    </pre>
  <pre class="div-wrap">
    <b>Merchandizing Model(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='merchandising_model'>{{ merchandising_model }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Order Event(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='order_event'>{{ order_event }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Order Type(s) Selected:</b> &nbsp;&nbsp;
    <span *ngIf='order_type'>{{ order_type }}&nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b style="font-size:120%">Order Metrics</b><br>
    <b>Check-Boxes Selected(s):</b> &nbsp;&nbsp;
    <span *ngIf='checkbox_data'>{{ checkbox_data}} &nbsp;&nbsp;</span>
  </pre>
  <pre class="div-wrap">
    <b>Consensus Time and Date:</b> &nbsp;&nbsp;
    <span *ngFor="let element of summary?.ost_data.data_date_range">
      <b>Start:</b>&nbsp;{{element?.start_date| date: 'dd-MMM-yyyy'}}
      <b>End:</b>&nbsp;{{element?.end_date| date: 'dd-MMM-yyyy' }}
    </span>
  </pre>
  </pre>
  <pre class="div-wrap">
    <h5><b style="font-size:150%">Dealer Allocation Selections</b></h5><br>
    <pre class="div-wrap">
      <b>Allocation Group(s) Selected:</b>&nbsp;&nbsp;
      <span *ngIf='allocation_group'>{{ allocation_group }}&nbsp;&nbsp;</span>
    </pre>
  <pre class="div-wrap">
      <b>Model Year(s) Selected:</b> &nbsp;&nbsp;
      <span *ngIf='model_year'>{{ model_year }}&nbsp;&nbsp;</span>
    </pre>
  <pre class="div-wrap"
    *ngIf='summary && summary.da_data && summary.da_data.concensus_data && summary.da_data.concensus_data.length > 0'>
      <b>Consensus Time and Date:</b> &nbsp;&nbsp;
      <span *ngFor="let element of summary?.da_data.concensus_time_date |date: dd-MMM-yyyy">
        <b>Start:</b>&nbsp;{{element?.ddm_rmp_start_year}}&nbsp;{{element?.ddm_rmp_start_month}}&nbsp;{{element?.ddm_rmp_start_cycle}}&nbsp;
        <b>End:</b>&nbsp;{{element?.ddm_rmp_end_year}}&n  bsp;{{element?.ddm_rmp_end_month}}&nbsp;{{element?.ddm_rmp_end_cycle}}&nbsp;&nbsp;
      </span>
    </pre>
  <pre class="div-wrap"
    *ngIf='summary && summary.da_data && summary.da_data.concensus_data && summary.da_data.concensus_data.length > 0'>
        <b>Consensus Data:</b> &nbsp;&nbsp;
        <span *ngFor="let element of summary?.da_data.concensus_data">
          <span *ngIf='element && element.cd_values'>{{element?.cd_values}}</span>&nbsp;&nbsp;
        </span>
    </pre>
  <pre class="div-wrap">
        <b>Additional Requirements:</b>
        <span *ngIf='summary && summary.additional_req'>{{summary?.additional_req}}</span>
    </pre>
  </pre>
  </pre>
  </pre>