<div class="config-container">
  <div class="config-title">Configure Pivot</div>

  <mat-form-field>
    <mat-label>Row label</mat-label>
    <mat-select multiple [(ngModel)]="selected.data.rowField"
                [title]="selected.data.rowField.toString() | spaceFormater">
      <mat-option [value]="column.columnName" *ngFor="let column of columnDetails">
        {{ column.columnName | spaceFormater }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div class="selected-conatiner" *ngIf="this.selected.data.rowField.length > 0">
    <div class="row-label-selected" *ngFor="let col1 of this.selected.data.rowField">{{ col1 | spaceFormater }}</div>
  </div>

  <mat-form-field style="display: block;">
    <mat-label>Value</mat-label>
    <mat-select multiple (selectionChange)="dataFieldSelected($event)" [(ngModel)]="rowField_temp"
        [title]="rowField_temp.toString() | spaceFormater">
      <mat-option [value]="column.columnName" *ngFor="let column of columnDetails">
        {{ column.columnName | spaceFormater }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div class="selected-conatiner" *ngIf="this.selected.data.dataField.length > 0">
    <div class="row-column-selected" *ngFor="let col2 of selected.data.dataField">
      <mat-form-field>
        <mat-label>function</mat-label>
        <mat-select [(ngModel)]="col2.function">
          <mat-option *ngFor="let func of function" [value]="func">{{ func }}</mat-option>
        </mat-select>
      </mat-form-field>&nbsp;
      <span>(of)</span>&nbsp;
      <span style="font-size: 16px;font-weight: 600;">{{ col2.value | spaceFormater }}</span>
    </div>
  </div>

  <mat-form-field style="margin-top: 8px;">
    <mat-label>Column</mat-label>
    <mat-select multiple [(ngModel)]="selected.data.column">
      <mat-option [value]="column.columnName" *ngFor="let column of columnDetails">{{ column.columnName | spaceFormater }}</mat-option>
    </mat-select>
  </mat-form-field>
  
  <mat-form-field appearance="outline" style="width: 400px;" style="margin-top: 8px;margin-left: 30px;">
    <mat-label>Pivot Title</mat-label>
    <input matInput type="text" [(ngModel)]="selected.tab_title" maxlength="50">
  </mat-form-field>

  <div class="config-footer">
    <button mat-raised-button 
    (click)="cancelConfig();" 
    style="margin-right: 15px;"
    [cssBtn]="'cancel'">Cancel</button>
    <button mat-raised-button 
    (click)="saveConfig();" 
    [disabled]="!formValid()"
    [cssBtn]="'ok'"
    [paramFlag]="!formValid()?true:false">Apply</button>
  </div>
</div>