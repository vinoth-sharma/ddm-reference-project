<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <img class="logo" src="/assets/OFT_Logo.jpg">
        <h4 class="modal-title" id="exampleModalLabel">Add Document Name and its url</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <p _ngcontent-c1="" class="mandatory-fields" style="float:left">*Required Fields</p>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="document-name" class="col-form-label">Document Name<span _ngcontent-c1=""
                class="mandatory-fields">*</span>:</label>
            <input type="text" class="form-control" id="document-name" required>
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">URL<span _ngcontent-c1=""
                class="mandatory-fields">*</span>:</label>
            <input type="url" placeholder="https://example.com" pattern="https://.*" size="30" class="form-control"
              id="document-url" required>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id = "close_modal">Close</button>
        <ng-container *ngIf="!changeDoc">
          <button type="button" class="btn btn-success" (click)="addDocument()">Save
            changes</button>
        </ng-container>
        <ng-container *ngIf="changeDoc">
          <button type="button" class="btn btn-success" (click)="editDocument()">Save
            changes</button>
        </ng-container>

      </div>
    </div>
  </div>
</div>
<div class="main-tool-body-header">
  <div class="heading">
    <div class="buffer"></div>
    <div class="caption-style"><b>Reference Documents</b></div>
    <div class="buffer"><i>Launch any of the documents below to assist with interpreting data included in DDM
        queries.</i></div>
  </div>

  <div class="icons">
    <div *ngIf="user_role=='Admin'" class="press">
      <a data-toggle = "tooltip" title = "EDIT" (click)="editTrue()"><i id="ic" class="material-icons">mode_edit</i></a>
    </div>
    <div class="press" style="margin-top:42%;">
      <button data-target="#helpModal" data-toggle="modal" style="padding-right:0px;">
        <a data-toggle = "tooltip" title = "HELP"><i id="ic" class="material-icons">help_outline</i></a>
      </button>
    </div>
  </div>
</div>
<div class="main-tool-body-content">
  <div class="information">
    <div id="editable">
      <div class="container-fluid" *ngIf="editMode">
        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal"
          (click)="NewDoc()">
          Add a Reference Document
        </button>
        <br><br>
      </div>
      <div class="ref-styling" [id]="'editable'+i" *ngFor='let element of naming; let i = index'>
        <a [id]="'ref_doc'+element.ddm_rmp_desc_text_reference_documents_id" target="_blank" data-toggle = "tooltip" title = "{{element.url}}" href="{{element.url}}">
          {{element.title}}
        </a>
        
        <a [id]="'delete'+element.ddm_rmp_desc_text_reference_documents_id" 
          (click)="deleteDocument(element.ddm_rmp_desc_text_reference_documents_id,i)" *ngIf="editMode">
          <i id="ed" class="material-icons" style="font-size:2rem">delete</i>
        </a>
        <a data-toggle="modal" data-target="#exampleModal" *ngIf="editMode" 
          (click)="editDoc(element.ddm_rmp_desc_text_reference_documents_id,element.title,element.url)">
          <i id="ed" class="material-icons" style="font-size:2rem">mode_edit</i>
        </a>
      
        <br>
        <br>
      </div>
    </div>

  </div>
</div>

  <!------------------------------------Help Modal------------------------------->

  <div class="modal fade " id="helpModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <img class="logo" src="/assets/OFT_Logo.jpg">
        <h5 class="modal-title" id="mainMenuDescriptionHelp">Help</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-9">
            <button class="btn btn-success save-text-ddm" (click)="content_edits()" *ngIf="editModes" style="margin-right:3%">Save</button>
            <button class="btn btn-danger save-text-ddm" (click)="edit_True()" *ngIf="editModes">Cancel</button>
          </div>
          <div class="col-3" style="padding-left:12%;">
            <button *ngIf="user_role=='Admin'" id="edit_button" class="editButton" (click)="notify()">
                <a data-toggle = "tooltip" title = "EDIT"><i id="ic" class="material-icons">mode_edit</i></a>
            </button>
          </div>
        </div>
        <div class="row ckEditor">
          <ckeditor [editor]="Editor" [(ngModel)]="namings" [disabled]="!editModes" (blur)="onChange($event)" style="width:100%; padding:1%;"></ckeditor>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" id="modal_close_button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="large" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner> -->
<!-- <ngx-spinner [bdColor]="spinnerConfig.bdColor" [size]="spinnerConfig.size" [color]="spinnerConfig.color" [type]="spinnerConfig.type"></ngx-spinner> -->