<div id="formula-wrapper" class="mt-2">
  <p>Formula</p>
  <div id="formula">
    <p *ngIf="formula.select && selectColumns.length">SELECT {{selectColumns}}</p>
    <p *ngIf="formula.from">FROM {{formula.from}}</p>
    <div *ngIf="formula.joins && formula.joins.length">
      <p *ngFor="let join of formula['joins']">{{join}}</p>
    </div>
    <p *ngIf="formula.where">WHERE {{formula.where}}</p>
  </div>

  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-sm btn-primary ml-2" [disabled]="!formula" (click)="goToView()" >Preview</button>
    <button type="button" class="btn btn-sm btn-primary ml-2" data-toggle="modal"
      data-target="#saveAsReportModal" [disabled]="!formula">Save Query</button>
  </div>
</div>

<app-generate-report-modal (saveData)="saveReport($event)"></app-generate-report-modal>