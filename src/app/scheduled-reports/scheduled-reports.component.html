<!-- <div *ngIf="isLoading" class="spinner">
    <img style="height:100px" src= "assets/spinner.gif">
</div> -->
<div *ngIf="isLoading" style="background:rgba(0, 0,0,0.25);padding: 0px;height: 100%">
  <mat-progress-spinner style="left:40%;top:40%;" mode="indeterminate"></mat-progress-spinner>
</div>
<div class="table-position"> <!--*ngIf="!isLoading && dataSource"-->
    <h4 class="m-0">Scheduled reports</h4>
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="index_number">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="index-width" sticky><b>Sl.No</b></th>
        <td mat-cell *matCellDef="let result" class="pointer" class="index-width">
          {{result.index_number}}</td>
      </ng-container>  
      
      <ng-container matColumnDef="report_name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="report-name-width" sticky><b>Report Name</b></th>
          <td mat-cell *matCellDef="let result" class="pointer" (click)="goToReports(result.index_number)"
            class="report-name-width">
            {{result.report_name}}</td>
        </ng-container>

        <ng-container matColumnDef="schedule_for_date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="schedule-date-width"><b>Schedule</b></th>
          <td mat-cell *matCellDef="let result" class="schedule-date-width">{{result.schedule_for_date}}</td>
        </ng-container>
  
        <ng-container matColumnDef="custom_dates">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="schedule-custom-width">
            <b>Schedule(Custom)</b></th>
          <td mat-cell *matCellDef="let result" class="schedule-custom-width">{{result.custom_dates}}</td>
        </ng-container>
  
        <ng-container matColumnDef="created_by_user">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="scheduler-width"><b>Scheduler</b></th>
          <td mat-cell *matCellDef="let result" class="scheduler-width">{{result.created_by_user}}</td>
        </ng-container>
  
        <ng-container matColumnDef="updated_at">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="last-modified-width"><b>Last Modified on</b></th>
          <td mat-cell *matCellDef="let result" class="last-modified-width">{{result.updated_at}}</td>
        </ng-container>
  
        <ng-container matColumnDef="export_format">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="delivery-format-width"><b>Delivery
              format</b></th>
          <td mat-cell *matCellDef="let result" class="delivery-format-width">{{result.export_format}}</td>
        </ng-container>
  
        <ng-container matColumnDef="sharing_mode">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="delivery-method-width"><b>Delivery
              method</b>
          </th>
          <td mat-cell *matCellDef="let result" class="delivery-method-width">{{result.sharing_mode}}</td>
        </ng-container>
  
        <ng-container matColumnDef="multiple_addresses">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sticky class="method-details-width"><b>Method details</b>
          </th>
          <td mat-cell *matCellDef="let result" class="method-details-width">{{result.multiple_addresses}}</td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky:true" color="grey"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

    <div class="empty-msg-div" *ngIf="isEmptyTables">No Data available</div>
    <mat-paginator [pageSizeOptions]="[10,15,20]" showFirstLastButtons></mat-paginator>
  </div>

  <app-schedule [scheduleReportData]="scheduleDataToBeSent" (update)="tableSorting()"></app-schedule>