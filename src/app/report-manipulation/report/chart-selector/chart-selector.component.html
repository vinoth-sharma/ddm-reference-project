<mat-sidenav-container *ngIf="view === 'sidenav'" class="h-100 w-100">
  <mat-sidenav mode="side" #sidenav position="end" class="w-25 pl-5 py-5">
    <form #chartForm="ngForm" class="h-100 w-100">
      <!-- <h3>Insert Chart</h3> -->
      <div class="row">
        <div class="col">
          <ul class="list-group">
            <li *ngFor="let chartType of chartTypes" class="list-group-item" [ngClass]="{'selected-chart': selectedChartType === chartType}"
              (click)="selectedChartType = chartType; updateChartData(selectedChartType)">
              {{chartType}}
            </li>
          </ul>
        </div>
        <div class="w-100"></div>
        <div class="col mt-2">
          <mat-form-field *ngIf="data && data[0]" class="w-100">
            <mat-select placeholder="Select X-Axis" [(ngModel)]="xAxis" name="xAxis" (selectionChange)="updateChartData(selectedChartType)">
              <mat-option *ngFor="let column of columns" [value]="column">{{column}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="w-100"></div>
        <div class="col mt-2">
          <mat-form-field *ngIf="data && data[0]" class="w-100">
            <mat-select placeholder="Select Y-Axis" multiple [(ngModel)]="yAxis" name="yAxis" (selectionChange)="updateChartData(selectedChartType)">
              <mat-option *ngFor="let column of columns" [value]="column">{{column}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </form>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="h-100 w-100">
      <div class="float-right">
        <button (click)="sidenav.toggle()" type="button" class="btn btn-primary">
          {{sidenav.opened ? 'Close': 'Open'}} Chart Editor
        </button>
      </div>
      <div class="chart-wrapper">
        <app-chart [chartData]="chartData"></app-chart>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>

<div *ngIf="view !== 'sidenav'">
  <div id="custom-modal">
    <div class="custom-modal-header">
      <h3>Insert Chart</h3>
    </div>
    <div class="custom-modal-body">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3">
            <ul class="list-group">
              <li *ngFor="let chartType of chartTypes" class="list-group-item" [ngClass]="{'selected-chart': selectedChartType === chartType}"
                (click)="selectedChartType = chartType; updateChartData(selectedChartType)">
                {{chartType}}
              </li>
            </ul>
          </div>
          <div class="col-md-9">
            <div class="row">
              <div class="col">
                <mat-form-field *ngIf="data && data[0]">
                  <mat-select placeholder="Select X-Axis" [(ngModel)]="xAxis" name="xAxis" (selectionChange)="updateChartData(selectedChartType)">
                    <mat-option *ngFor="let column of columns" [value]="column">{{column}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col">
                <mat-form-field *ngIf="data && data[0]">
                  <mat-select placeholder="Select Y-Axis" multiple [(ngModel)]="yAxis" name="yAxis" (selectionChange)="updateChartData(selectedChartType)">
                    <mat-option *ngFor="let column of columns" [value]="column">{{column}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <app-chart [chartData]="chartData"></app-chart>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="custom-modal-footer float-right">
      <button type="button" class="btn btn-primary" [mat-dialog-close]="chartData">Insert Chart</button>
    </div>
  </div>
</div>