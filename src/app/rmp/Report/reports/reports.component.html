<div class="flex-container row tool-body">
  <!-- <div class="left-tabs"></div> -->
  <div *ngIf="reports" class="main-tool-body" style="height:100%">
    <div class="wrapper" style="height:100%">
      <br>
      <div class="row" style="width:100%">
        <div class="col">
          <h3>REPORTS</h3>
        </div>
        <div class="col">
          <input [(ngModel)]="searchText" placeholder="Insert Keywords/Request Number here " class="form-control">
        </div>
        <div class="col">
          <div class="icons">
            <div class="press">
              <a (click)="xlsxJson()"><i id="ic" class="material-icons">get_app</i></a>
              <a href="#"><i id="ic" class="material-icons">help_outline</i></a>
            </div>
          </div>
        </div>
        <table class="table table-striped table-hover">
          <thead class="thead">
            <tr>
              <th (click)="sort('favorites')">Favourites</th>
              <th (click)="sort('ddm_rmp_post_report_id')">Request
                No.</th>
              <th (click)="sort('ddm_rmp_status_date | date')">Date</th>
              <th (click)="sort('title')">Title</th>
              <th>DDM Name</th>
              <th >Frequency</th>
              <th>M</th>
              <th>T</th>
              <th>W</th>
              <th>Th</th>
              <th>F</th>
              <th>Other</th>
          </thead>
          <tbody>
            <!-- | filterTable: {'Request No.': searchText, 'Date':searchText, 'DDM Name' :searchText} | orderBy: order : reverse : 'caseInsensitive' | paginate: { itemsPerPage: 10, currentPage: p } -->
            <tr
              *ngFor="let element of reports | filterTable: {'Request No.': searchText, 'Date':searchText, 'DDM Name' :searchText} | orderBy: param:orderType | paginate: { itemsPerPage: 10, currentPage: p }; let i = index">
              <td class="fav" scope="col">
                <label for="{{element.ddm_rmp_post_report_id}}" class="custom-checkbox">
                  <input type="checkbox" [(ngModel)]="element.favorites" id="{{element.ddm_rmp_post_report_id}}"
                    (click)="checked(element.ddm_rmp_post_report_id,$event)" />
                  <i class="material-icons empty">star_border</i>
                  <i class="material-icons star">star</i>

                </label>
                <!-- <div class="pretty p-icon p-toggle p-plain">
                    <input type="checkbox" />
                    <div class="state p-off">
                        <i class="icon material-icons">star_border</i>
                    </div>
                    <div class="state p-on p-info-o">
                        <i class="icon material-icons">star</i>
                    </div>
                </div> -->
              </td>
              <td scope="col">
                {{element.ddm_rmp_post_report_id}}
              </td>
              <td scope="col">
                {{element.ddm_rmp_status_date | date}}
              </td>
              <td scope="col">
                {{element.title}}
              </td>
              <td scope="col">

              </td>
              <td scope="col">
                <span *ngIf="element.frequency_data.length >= 1">Recurring</span>
                <span *ngIf="element.frequency_data == '' ">One-time</span>
              </td>
              <td scope="col" *ngIf="element.frequency_data">
                <span *ngIf="element.frequency_data.indexOf('Monday') > -1">Y<br></span>
   <!-- <span *ngFor="let subelement of element.frequency_data">{{subelement}} <br></span> -->
              </td>
              <td scope="col" *ngIf="element.frequency_data">
                  <span *ngIf="element.frequency_data.indexOf('Tuesday') > -1">Y<br></span>
              </td>
              <td scope="col" *ngIf="element.frequency_data">
                  <span *ngIf="element.frequency_data.indexOf('Wednesday') > -1">Y<br></span>
              </td>
              <td scope="col" *ngIf="element.frequency_data">
                  <span *ngIf="element.frequency_data.indexOf('Thursday') > -1">Y<br></span>
              </td>
              <td scope="col" *ngIf="element.frequency_data">
                  <span *ngIf="element.frequency_data.indexOf('Friday') > -1">Y<br></span>
              </td>
              <td scope="col" *ngIf="element.frequency_data || element.description">
                <span *ngFor="let subelement of element.frequency_data_filtered">{{subelement}} <br></span>
                 {{element.description}}
              </td>
            </tr>
          </tbody>
        </table>
        <div>
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
  <div class="main-tool-body" *ngIf="!reports">
    <mat-progress-spinner style="left:40%;top:40%;" mode="indeterminate"></mat-progress-spinner>
  </div>
<!-- 
  <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="large" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">Loading...</p>
  </ngx-spinner> -->

  <div id="configReport" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Configurable DDM Report</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body modal-comment-body">
          <div class="row config">
            <div class="col-sm-5">
              Request No.
            </div>
            <div class="col-sm-7">
              2018-2016
            </div>
          </div>

          <div class="row config">
            <div class="col-sm-5">
              Title:
            </div>
            <div class="col-sm-7">
              Order-to-Sale
            </div>
          </div>

          <div class="row config">
            <div class="col-sm-5">
              DDM Name:
            </div>
            <div class="col-sm-7">
              NC Allocation Group-Units in Stock
            </div>
          </div>

          <div class="row config">
            <div class="col-sm-5">
              Division(s):
            </div>
            <div class="col-sm-7">

              <ng-multiselect-dropdown class="drop-" [placeholder]="'Search for model'" [data]="dropdownList"
                [(ngModel)]="selectedItems" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)">
              </ng-multiselect-dropdown>

            </div>
          </div>

          <div class="row config-drop">
            <div class="col-sm-5">
              Allocation Groups(s):
            </div>
            <div class="col-sm-7">

              <ng-multiselect-dropdown class="drop-" [placeholder]="'Search for model'" [data]="dropdownList"
                [(ngModel)]="selectedItems" [settings]="dropdownSettings" (onSelect)="onItemSelect($event)"
                (onSelectAll)="onSelectAll($event)">
              </ng-multiselect-dropdown>

            </div>
          </div>

        </div>
        <div class="modal-footer">
          <div class="col-sm-6">
            <button type="button" class="btn btn-primary  footer-buttons">Create Report</button>
          </div>
          <div class="col-sm-6">
            <button type="button" class="btn btn-success">Save Settings</button>
          </div>
        </div>
      </div>

    </div>
  </div>
  <!-- <ngx-spinner [bdColor]="spinnerConfig.bdColor" [size]="spinnerConfig.size" [color]="spinnerConfig.color" [type]="spinnerConfig.type"></ngx-spinner> -->